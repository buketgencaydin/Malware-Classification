import zipfile

def fetch_hashcode_from_file_name(file_name):
    if not "VirusShare" in file_name:
        return None

    start = file_name.find("_")
    if start < 1:
        return ""

    return file_name[start + 1:]

archive = zipfile.ZipFile('/home/Desktop/malware_api_class-master/src/utility/malwares/VirusShare_00313.zip', 'r')

destination_path = "destination/malware_hashcode/"

index = 0
file_name = 0
for malware_file_name in archive.filelist:
    print(malware_file_name.filename)

    if index == 500:
        index = 0
        file_name = file_name + 1

    if index == 0:
        hashcode_file = open("destination/malware_hashcode/" + str(file_name), "w")

    hashcode = fetch_hashcode_from_file_name(malware_file_name.filename)
    hashcode_file.write(hashcode + "\n")

    index = index + 1
